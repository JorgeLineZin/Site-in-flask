<!doctype html>
<html lang="pt-br">
  <head>
    {% block head %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/base.css') }}"
    />

    <title>{% block title %} Home Page {% endblock %}</title>
    {% endblock %}
  </head>
  <body>
    <header>
      {% block header %}
      <div class="navbar-container">
        <nav class="navbar">
          <a href="{{ url_for('index') }}" class="navbar-brand">Home</a>
          <button
            class="hamburger"
            id="hamburger-button"
            aria-label="menu"
            aria-expanded="false"
          >
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </button>
          <div class="navbar-menu" id="navbar-menu">
            <ul class="nav-links">
              <li><a href="{{ url_for('about') }}">About</a></li>
            </ul>
            <div class="nav-auth">
              {% if current_user.is_authenticated %}
              <div class="user-menu">
                <button class="user-menu-button">
                  {{ current_user.name }} <span class="arrow-down"></span>
                </button>
                <div class="dropdown-content">
                  <a href="{{ url_for('perfil', id_user=current_user.id) }}"
                    >Perfil</a
                  >
                  <a href="{{ url_for('logout') }}">Logout</a>
                </div>
              </div>
              {% else %}
              <a href="{{ url_for('login') }}" class="nav-auth-link">Login</a>
              <a href="{{ url_for('register') }}" class="nav-auth-link"
                >Register</a
              >
              {% endif %}
            </div>
          </div>
        </nav>
      </div>
      {% endblock %}
    </header>
    <main>{% block main_content %} {% endblock %}</main>
    <footer>
      {% block footer %} &copy; Copyright 2026 by
      <a href="https://github.com/JorgeLineZin">JorgeLineZinðŸ’œ</a>. {% endblock
      %}
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // User menu dropdown
        const userMenuButton = document.querySelector(".user-menu-button");
        const dropdownContent = document.querySelector(".dropdown-content");

        if (userMenuButton) {
          userMenuButton.addEventListener("click", function (event) {
            event.stopPropagation();
            dropdownContent.classList.toggle("show");
          });
        }

        window.addEventListener("click", function (event) {
          if (dropdownContent && dropdownContent.classList.contains("show")) {
            if (!event.target.closest(".user-menu")) {
              dropdownContent.classList.remove("show");
            }
          }
        });

        // Hamburger menu
        const hamburgerButton = document.getElementById("hamburger-button");
        const navbarMenu = document.getElementById("navbar-menu");

        hamburgerButton.addEventListener("click", function () {
          navbarMenu.classList.toggle("active");
          hamburgerButton.classList.toggle("active");
          const isExpanded =
            hamburgerButton.getAttribute("aria-expanded") === "true";
          hamburgerButton.setAttribute("aria-expanded", !isExpanded);
        });
      });
    </script>
  </body>
</html>
